<!DOCTYPE HTML>
<html lang="ja" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>const fn - エディションガイド</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="../theme/em-to-bold.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../introduction.html">序文</a></li><li class="chapter-item expanded "><a href="../editions/index.html"><strong aria-hidden="true">1.</strong> エディションとは？</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../editions/creating-a-new-project.html"><strong aria-hidden="true">1.1.</strong> 新しいプロジェクトを作成する</a></li><li class="chapter-item expanded "><a href="../editions/transitioning-an-existing-project-to-a-new-edition.html"><strong aria-hidden="true">1.2.</strong> 既存のプロジェクトのエディションを移行する</a></li><li class="chapter-item expanded "><a href="../editions/advanced-migrations.html"><strong aria-hidden="true">1.3.</strong> Advanced migrations</a></li></ol></li><li class="chapter-item expanded "><a href="../rust-2015/index.html"><strong aria-hidden="true">2.</strong> Rust 2015</a></li><li class="chapter-item expanded "><a href="../rust-2018/index.html"><strong aria-hidden="true">3.</strong> Rust 2018</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust-2018/path-changes.html"><strong aria-hidden="true">3.1.</strong> Path and module system changes</a></li><li class="chapter-item expanded "><a href="../rust-2018/trait-fn-parameters.html"><strong aria-hidden="true">3.2.</strong> Anonymous trait function parameters deprecated</a></li><li class="chapter-item expanded "><a href="../rust-2018/new-keywords.html"><strong aria-hidden="true">3.3.</strong> New keywords</a></li><li class="chapter-item expanded "><a href="../rust-2018/tyvar-behind-raw-pointer.html"><strong aria-hidden="true">3.4.</strong> Method dispatch for raw pointers to inference variables</a></li><li class="chapter-item expanded "><a href="../rust-2018/cargo.html"><strong aria-hidden="true">3.5.</strong> Cargo changes</a></li></ol></li><li class="chapter-item expanded "><a href="../rust-post-2018/index.html"><strong aria-hidden="true">4.</strong> Rust 2018以降の変更（期間限定公開）</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust-post-2018/dbg-macro.html"><strong aria-hidden="true">4.1.</strong> dbg! マクロ</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/no-jemalloc.html"><strong aria-hidden="true">4.2.</strong> デフォルトでjemallocを使わない</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/uniform-paths.html"><strong aria-hidden="true">4.3.</strong> 統一的なパス</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/literal-macro-matcher.html"><strong aria-hidden="true">4.4.</strong> リテラルマクロマッチャ</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/qustion-mark-operator-in-macros.html"><strong aria-hidden="true">4.5.</strong> マクロ内の?演算子</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/const-fn.html" class="active"><strong aria-hidden="true">4.6.</strong> const fn</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/pin.html"><strong aria-hidden="true">4.7.</strong> ピン留め</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/no-more-fnbox.html"><strong aria-hidden="true">4.8.</strong> FnBoxは不要に</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/alternative-cargo-registries.html"><strong aria-hidden="true">4.9.</strong> Cargoレジストリが選択できるように</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/tryfrom-and-tryinto.html"><strong aria-hidden="true">4.10.</strong> TryFromとTryInto</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/future.html"><strong aria-hidden="true">4.11.</strong> Futureトレイト</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/alloc.html"><strong aria-hidden="true">4.12.</strong> allocクレート</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/maybe-uninit.html"><strong aria-hidden="true">4.13.</strong> MaybeUninit</a></li><li class="chapter-item expanded "><a href="../rust-post-2018/cargo-vendor.html"><strong aria-hidden="true">4.14.</strong> cargo vendor</a></li></ol></li><li class="chapter-item expanded "><a href="../rust-2021/index.html"><strong aria-hidden="true">5.</strong> Rust 2021</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../rust-2021/prelude.html"><strong aria-hidden="true">5.1.</strong> Additions to the prelude</a></li><li class="chapter-item expanded "><a href="../rust-2021/default-cargo-resolver.html"><strong aria-hidden="true">5.2.</strong> デフォルトの Cargo のフィーチャリゾルバ</a></li><li class="chapter-item expanded "><a href="../rust-2021/IntoIterator-for-arrays.html"><strong aria-hidden="true">5.3.</strong> IntoIterator for arrays</a></li><li class="chapter-item expanded "><a href="../rust-2021/disjoint-capture-in-closures.html"><strong aria-hidden="true">5.4.</strong> Disjoint capture in closures</a></li><li class="chapter-item expanded "><a href="../rust-2021/panic-macro-consistency.html"><strong aria-hidden="true">5.5.</strong> Panic macro consistency</a></li><li class="chapter-item expanded "><a href="../rust-2021/reserving-syntax.html"><strong aria-hidden="true">5.6.</strong> Reserving syntax</a></li><li class="chapter-item expanded "><a href="../rust-2021/warnings-promoted-to-error.html"><strong aria-hidden="true">5.7.</strong> Warnings promoted to errors</a></li><li class="chapter-item expanded "><a href="../rust-2021/or-patterns-macro-rules.html"><strong aria-hidden="true">5.8.</strong> Or patterns in macro-rules</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">エディションガイド</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/rust-lang-ja/edition-guide" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#const-fn" id="const-fn"><code>const fn</code></a></h1>
<!--
Initially added: ![Minimum Rust version: 1.31](https://img.shields.io/badge/Minimum%20Rust%20Version-1.31-brightgreen.svg)
-->
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.31-brightgreen.svg" alt="Minimum Rust version: 1.31" />で最初に導入されました。</p>
<!--
Expanded in many releases, see each aspect below for more details.
-->
<p>そしてその後のリリースで何度か拡張されています。詳細は以下を確認してください。</p>
<!--
A `const fn` allows you to execute code in a "const context." For example:
-->
<p><code>const fn</code>によりコードを「constコンテキスト」で実行することができます(訳注：つまり、コンパイル時に評価されます)。例を示します。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const fn five() -&gt; i32 {
    5
}

const FIVE: i32 = five();
<span class="boring">}
</span></code></pre></pre>
<!--
You cannot execute arbitrary code; the reasons why boil down to "you can
destroy the type system." The details are a bit too much to put here, but the
core idea is that `const fn` started off allowing the absolutely minimal
subset of the language, and has slowly added more abilities over time.
Therefore, while you can create a `const fn` in Rust 1.31, you cannot do much
with it. This is why we didn't add `const fn` to the Rust 2018 section; it
truly didn't become useful until after the release of the 2018 edition. This
means that if you read this document top to bottom, the earlier versions may
describe restrictions that are relaxed in later versions.

-->
<p>const fnでは任意のコードを実行することは出来ません。
というのは、簡単に言うと型システムを壊してしまうことになるからです。
詳細はここでは述べませんが、<code>const fn</code>では最小限の言語サブセットのみを使えるところからスタートし、徐々に出来ることを増やしていく、というのが基本的な考え方です。
したがって、導入当初のRust 1.31では <code>const fn</code>関数を作ることは出来ましたが、実際に出来ることはほとんどありませんでした。
これが、<code>const fn</code>をRust 2018のセクションに含めなかった理由なのですが、実際、Rust 2018エディションのリリース時にはあまり使い物になりませんでした。
もしあなたがこのドキュメントを最初から最後まで読んだとすると、以前のバージョンで制約とされていた部分がその後のバージョンで緩和されていることがわかるでしょう。</p>
<!--
Additionally, this has allowed more and more of the standard library to be
made `const`, we won't put all of those changes here, but you should know
that it is becoming more `const` over time.
-->
<p>さらに付け加えると、<code>const fn</code>で利用できる表記方が増えるに従って、標準ライブラリの機能が<code>const</code>化されていっています。
ここではその変更の全てを述べることはしませんが、時とともに <code>const</code>化される部分が増えていくことは知っておいても良いでしょう。</p>
<!--
## Arithmetic and comparison operators on integers
-->
<h2><a class="header" href="#整数の算術演算および比較演算" id="整数の算術演算および比較演算">整数の算術演算および比較演算</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.31-brightgreen.svg" alt="Minimum Rust version: 1.31" /></p>
<!--
You can do arithmetic on integer literals:
-->
<p>整数リテラルに対して算術演算をすることができます。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const fn foo() -&gt; i32 {
    5 + 6
}
<span class="boring">}
</span></code></pre></pre>
<!--
## Many boolean operators
-->
<h2><a class="header" href="#多くのブーリアン演算" id="多くのブーリアン演算">多くのブーリアン演算</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.31-brightgreen.svg" alt="Minimum Rust version: 1.31" /></p>
<!--
You can use boolean operators other than `&&` and `||`, because they short-circut evaluation:
-->
<p>ブーリアン演算のほとんどが使えます。
例外は<code>&amp;&amp;</code>と<code>||</code>で、これらは短絡評価を行うので使えなくなっています。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const fn mask(val: u8) -&gt; u8 {
    let mask = 0x0f;

    mask &amp; val
}
<span class="boring">}
</span></code></pre></pre>
<!--
## Constructing arrays, structs, enums, and tuples
-->
<h2><a class="header" href="#配列構造体列挙型タプルの生成" id="配列構造体列挙型タプルの生成">配列、構造体、列挙型、タプルの生成</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.31-brightgreen.svg" alt="Minimum Rust version: 1.31" /></p>
<!--
You can create arrays, structs, enums, and tuples:
-->
<p>配列、構造体、列挙型、タプルを生成することができます。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct Point {
    x: i32,
    y: i32,
}

enum Error {
    Incorrect,
    FileNotFound,
}

const fn foo() {
    let array = [1, 2, 3];

    let point = Point {
        x: 5,
        y: 10,
    };

    let error = Error::FileNotFound;

    let tuple = (1, 2, 3);
}
<span class="boring">}
</span></code></pre></pre>
<!--
## Calls to other const fns
-->
<h2><a class="header" href="#他のconst関数の呼び出し" id="他のconst関数の呼び出し">他のconst関数の呼び出し</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.31-brightgreen.svg" alt="Minimum Rust version: 1.31" /></p>
<!--
You can call `const fn` from a `const fn`:
-->
<p><code>const fn</code>から<code>const fn</code>を呼び出すことができます。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const fn foo() -&gt; i32 {
    5
}

const fn bar() -&gt; i32 {
    foo()
}
<span class="boring">}
</span></code></pre></pre>
<!--
## Index expressions on arrays and slices
-->
<h2><a class="header" href="#配列やスライスの添字式" id="配列やスライスの添字式">配列やスライスの添字式</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.31-brightgreen.svg" alt="Minimum Rust version: 1.31" /></p>
<!--
You can index into an array or slice:
-->
<p>配列やスライスに添え字アクセスできます。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const fn foo() -&gt; i32 {
    let array = [1, 2, 3];

    array[1]
}
<span class="boring">}
</span></code></pre></pre>
<!--
## Field accesses on structs and tuples
-->
<h2><a class="header" href="#構造体やタプルのフィールドアクセス" id="構造体やタプルのフィールドアクセス">構造体やタプルのフィールドアクセス</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.31-brightgreen.svg" alt="Minimum Rust version: 1.31" /></p>
<!--
You can access parts of a struct or tuple:
-->
<p>構造体やタプルの構成要素にアクセスできます。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct Point {
    x: i32,
    y: i32,
}

const fn foo() {
    let point = Point {
        x: 5,
        y: 10,
    };

    let tuple = (1, 2, 3);

    point.x;
    tuple.0;
}
<span class="boring">}
</span></code></pre></pre>
<!--
## Reading from constants
-->
<h2><a class="header" href="#定数読み出し" id="定数読み出し">定数読み出し</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.31-brightgreen.svg" alt="Minimum Rust version: 1.31" /></p>
<!--
You can read from a constant:
-->
<p>定数の値を読み出せます。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const FOO: i32 = 5;

const fn foo() -&gt; i32 {
    FOO
}
<span class="boring">}
</span></code></pre></pre>
<!--
Note that this is *only* `const`, not `static`.
-->
<p>読み出せるのは <code>const</code>指定された定数<em>のみ</em>で、<code>static</code>指定された変数は読み出せません。</p>
<!--
## & and * of references
-->
<h2><a class="header" href="#参照の--と-" id="参照の--と-">参照の &amp; と *</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.31-brightgreen.svg" alt="Minimum Rust version: 1.31" /></p>
<!--
You can create and de-reference references:
-->
<p>参照を作ったり、参照外しをすることができます。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const fn foo(r: &amp;i32) {
    *r;

    &amp;5;
}
<span class="boring">}
</span></code></pre></pre>
<!--
## Casts, except for raw pointer to integer casts
-->
<h2><a class="header" href="#キャストただし生ポインタから整数へのキャストは除く" id="キャストただし生ポインタから整数へのキャストは除く">キャスト。ただし生ポインタから整数へのキャストは除く</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.31-brightgreen.svg" alt="Minimum Rust version: 1.31" /></p>
<!--
You may cast things, except for raw pointers may not be casted to an integer:
-->
<p>キャストができます。
例外は生ポインタから整数へのキャスト。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const fn foo() {
    let x: usize = 5;

    x as i32;
}
<span class="boring">}
</span></code></pre></pre>
<!--
## Irrefutable destructuring patterns
-->
<h2><a class="header" href="#論駁不可能な分配パターン" id="論駁不可能な分配パターン">論駁不可能な分配パターン</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.33-brightgreen.svg" alt="Minimum Rust version: 1.33" /></p>
<!--
You can use irrefutable patterns that destructure values. For example:
-->
<p>論駁不可能なパターンで値を分配することができます。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const fn foo((x, y): (u8, u8)) {
    // ...
}
<span class="boring">}
</span></code></pre></pre>
<!--
Here, `foo` destructures the tuple into `x` and `y`. `if let` is another
place that uses irrefutable patterns.
-->
<p>ここで、<code>foo</code>はタプルの値を<code>x</code>と<code>y</code>に分配します。
<code>if let</code>でも同様に論駁不可能なパターンを使います。</p>
<!--
## `let` bindings
-->
<h2><a class="header" href="#let-束縛" id="let-束縛"><code>let</code> 束縛</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.33-brightgreen.svg" alt="Minimum Rust version: 1.33" /></p>
<!--
You can use both mutable and immutable `let` bindings:
-->
<p>ミュータブルとイミュータブルの双方の<code>let</code>束縛を使うことができます。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const fn foo() {
    let x = 5;
    let mut y = 10;
}
<span class="boring">}
</span></code></pre></pre>
<!--
## Assignment
-->
<h2><a class="header" href="#代入" id="代入">代入</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.33-brightgreen.svg" alt="Minimum Rust version: 1.33" /></p>
<!--
You can use assignment and assignment operators:
-->
<p>代入と代入演算子を使うことができます。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const fn foo() {
    let mut x = 5;
    x = 10;
}
<span class="boring">}
</span></code></pre></pre>
<!--
## Calling `unsafe fn`
-->
<h2><a class="header" href="#unsafe-fn-の呼び出し" id="unsafe-fn-の呼び出し"><code>unsafe fn</code> の呼び出し</a></h2>
<p><img src="https://img.shields.io/badge/Minimum%20Rust%20Version-1.33-brightgreen.svg" alt="Minimum Rust version: 1.33" /></p>
<!--
You can call an `unsafe fn` inside a `const fn`:
-->
<p><code>const fn</code>の中で<code>unsafe fn</code>を呼び出すことができます。</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const unsafe fn foo() -&gt; i32 { 5 }

const fn bar() -&gt; i32 {
    unsafe { foo() }
}
<span class="boring">}
</span></code></pre></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../rust-post-2018/qustion-mark-operator-in-macros.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../rust-post-2018/pin.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../rust-post-2018/qustion-mark-operator-in-macros.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../rust-post-2018/pin.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
